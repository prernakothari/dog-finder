(this["webpackJsonpdog-finder"]=this["webpackJsonpdog-finder"]||[]).push([[0],{165:function(e,t,n){},166:function(e,t,n){},465:function(e,t,n){},469:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n(0),i=n.n(a),o=n(9),c=n.n(o),s=(n(165),n(166),n(69)),d=n(70),u=n(78),l=n(76),h=(n(167),n(32)),b=n(23),p=n(24),j="SET_URL_LIST",f="APPEND_URL_LIST",g="SET_BREED_DATA",v="SET_ROW_MAP",O="SET_CURRENT_BREED",m={urlList:Object(b.b)([]),breedData:{},rowMap:Object(b.a)(),activeBreedData:{breed:"pug",subBreed:null},hasMoreImages:!0};var B=n(71),L=Object(B.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(p.a)(Object(p.a)({},e),{},{urlList:Object(b.b)(t.urlList)});case f:var n=e.urlList.union(t.urlList),r=n.size>e.urlList.size;return Object(p.a)(Object(p.a)({},e),{},{urlList:n,hasMoreImages:r});case g:return Object(p.a)(Object(p.a)({},e),{},{breedData:t.breedData});case v:return Object(p.a)(Object(p.a)({},e),{},{rowMap:t.rowMap});case O:return Object(p.a)(Object(p.a)({},e),{},{activeBreedData:{breed:t.breed,subBreed:t.subBreed}})}return m})),x=(n(465),n(156)),M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!==t?"https://dog.ceo/api/breed/".concat(t,"/").concat(null===n?"":"".concat(n,"/"),"images/random/").concat(e):"https://dog.ceo/api/breeds/image/random/".concat(e)},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fetch(M(e,t,n)).then((function(e){return e.json()})).then((function(e){return L.dispatch({type:f,urlList:e.message})}))},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fetch(M(e,t,n)).then((function(e){return e.json()})).then((function(e){return L.dispatch({type:j,urlList:e.message})}))},I=function(){return.985*window.innerWidth},C=function(){return Math.min(Math.floor(I()/200),5)},D=function(e){L.dispatch({type:v,rowMap:e})},S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).reset=function(){e.setState({rowMap:Object(b.a)()})},e.reformat=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;t.preventDefault();var o,c=e.props.rowMap;if(n){o=c;var s=c.getIn([r,"indicesLoaded"],Object(b.c)([])).add(a);o=o.delete(r),s.forEach((function(t){o=e.addWidthToMap(document.getElementById("image".concat(t)),r.toString(),t,i,o)}))}else{o=Object(b.a)();for(var d=0;d<e.props.urlList.length;d++){var u=C(),l=Math.floor(d/u),h=u;l===Math.floor((e.props.urlList.length-1)/u)&&(h=e.props.urlList.length-u*l),o=e.addWidthToMap(document.getElementById("image".concat(d)),l.toString(),d,h,o)}}D(o)},e.loadMoreImages=function(){w(30,e.props.currentBreed,e.props.currentSubBreed)},e.addWidthToMap=function(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=i||e.props.rowMap;o.has(n)||(o=o.set(n,{width:0}));var c=o.getIn([n,"indicesLoaded"],Object(b.c)([]));if(!c.has(r)){if((o=(o=o.updateIn([n,"width"],(function(e){return e+t.clientWidth}))).setIn([n,"indicesLoaded"],c.add(r))).getIn([n,"indicesLoaded"]).size===a){var s=t.clientHeight/window.innerWidth*100*(I()/o.getIn([n,"width"]));o=o.setIn([n,"height"],s)}if(void 0!==i)return o;D(o)}},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){y(30,this.props.currentBreed,this.props.currentSubBreed),window.addEventListener("resize",this.reformat)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.reformat)}},{key:"render",value:function(){for(var e=this,t=[],n=function(n){var a=Math.floor(n/C()),i=30,o=C(),c=o;a===Math.floor((e.props.urlList.length-1)/o)&&(c=e.props.urlList.length-o*a),e.props.rowMap.hasIn([a.toString(),"height"])&&(i=e.props.rowMap.getIn([a.toString(),"height"])),t.push(Object(r.jsx)("img",{id:"image".concat(n),src:e.props.urlList[n],style:{height:"".concat(i,"vw"),padding:"0.2%"},onLoad:function(t){return e.reformat(t,!0,a.toString(),n,c)}},"image".concat(n)))},a=0;a<this.props.urlList.length;a++)n(a);return Object(r.jsx)("div",{className:"flex-container",children:Object(r.jsx)(x.a,{dataLength:this.props.urlList.length,next:this.loadMoreImages,hasMore:this.props.hasMoreImages,loader:Object(r.jsx)("h4",{children:"Loading..."}),endMessage:Object(r.jsx)("p",{style:{textAlign:"center"},children:Object(r.jsx)("b",{children:"Yay! You have seen it all"})}),children:t})})}}]),n}(a.Component),E=Object(h.b)((function(e){return{urlList:e.urlList.toJS(),rowMap:e.rowMap,currentBreed:e.activeBreedData.breed,currentSubBreed:e.activeBreedData.subBreed,hasMoreImages:e.hasMoreImages,reformatting:e.reformatting}}),null)(S),k=n(159),T=n(474),W=n(477);String.prototype.CapitalizeEachWord=function(){return this.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};var z=Object(h.b)((function(e){return{breedData:e.breedData}}),(function(e){return{setCurrentBreed:function(t,n){return e({type:O,breed:t,subBreed:n})}}}))((function(e){var t=Object(a.useState)(""),n=Object(k.a)(t,2),i=n[0],o=n[1],c=new Map,s=function(t){var n=c.get(t);D(Object(b.a)()),e.setCurrentBreed(n.breed,n.subBreed),y(30,n.breed,n.subBreed)},d=[],u=function(t){if(0===e.breedData[t].length){var n="".concat(t).CapitalizeEachWord();c.set(n,{breed:t,subBreed:null}),d.push(Object(r.jsx)(T.a.Item,{eventKey:n,onSelect:s,onClick:function(){o(n)},children:n},n))}else e.breedData[t].forEach((function(e){var n="".concat(t).CapitalizeEachWord();c.has(n)||(c.set(n,{breed:t,subBreed:null}),d.push(Object(r.jsx)(T.a.Item,{eventKey:n,onSelect:s,onClick:function(){o(n)},children:n},n))),n="".concat(e," ").concat(t).CapitalizeEachWord(),c.set(n,{breed:t,subBreed:e}),d.push(Object(r.jsx)(T.a.Item,{eventKey:n,onSelect:s,onClick:function(){o(n)},children:n},n))}))};for(var l in e.breedData)u(l);return 0==(d=d.filter((function(e){return!i||e.props.children.toLowerCase().includes(i.toLowerCase())}))).length&&d.push(Object(r.jsx)(T.a.Item,{children:"No Results "})),Object(r.jsxs)(T.a,{title:"Select Breed",value:i,children:[Object(r.jsx)(W.a,{autoFocus:!0,className:"mx-2 my-2 w-auto",placeholder:"Filter by Breed",onChange:function(e){return o(e.target.value)},value:i}),d]})})),_=n(475),A=n(476),R=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){fetch("https://dog.ceo/api/breeds/list/all").then((function(e){return e.json()})).then((function(e){return L.dispatch({type:g,breedData:e.message})}))}},{key:"render",value:function(){var e="".concat(this.props.subBreed?this.props.subBreed+" ":"").concat(this.props.breed?this.props.breed:"All Breeds").CapitalizeEachWord();return Object(r.jsx)("div",{children:Object(r.jsxs)(_.a,{bg:"light",expand:"lg",children:[Object(r.jsx)(A.a,{className:"mr-auto",children:Object(r.jsx)(_.a.Brand,{href:"#home",children:"Dog Finder"})}),Object(r.jsx)(A.a,{className:"mr-auto",children:Object(r.jsxs)(_.a.Text,{size:"lg",children:[" ",e," "]})}),Object(r.jsxs)(A.a,{children:[Object(r.jsx)(_.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(r.jsxs)(_.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsx)(z,{}),Object(r.jsx)(A.a.Link,{onClick:this.props.setCurrentBreed,children:" Random "}),Object(r.jsx)(A.a.Link,{id:"githubLink",href:"http://motiongenpro.appspot.com/",target:"_blank",children:" \xa0 "})]})]})]})})}}]),n}(a.Component),N=Object(h.b)((function(e){return{breed:e.activeBreedData.breed,subBreed:e.activeBreedData.subBreed}}),(function(e){return{setCurrentBreed:function(){y(30,null,null),e({type:O,breed:null,subBreed:null})}}}))(R);var F=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(N,{}),Object(r.jsx)(E,{})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,478)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};n(468);c.a.render(Object(r.jsx)(h.a,{store:L,children:Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(F,{})})}),document.getElementById("root")),P()}},[[469,1,2]]]);
//# sourceMappingURL=main.7753db6c.chunk.js.map