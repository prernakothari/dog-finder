(this["webpackJsonpdog-finder"]=this["webpackJsonpdog-finder"]||[]).push([[0],{61:function(e,t,r){},62:function(e,t,r){},68:function(e,t,r){},69:function(e,t,r){},73:function(e,t,r){"use strict";r.r(t);var n=r(5),a=r(0),o=r.n(a),c=r(10),i=r.n(c),s=(r(61),r(62),r(34)),d=r(35),u=r(45),l=r(43),h=r(79),b=r(21),p=r(17),j=r(15),g="SET_URL_LIST",f="APPEND_URL_LIST",v="SET_BREED_DATA",O="SET_ROW_MAP",m="SET_CURRENT_BREED",x={urlList:Object(p.b)([]),breedData:{},rowMap:Object(p.a)(),activeBreedData:{breed:"pug",subBreed:null},hasMoreImages:!0};var B=r(36),L=Object(B.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(j.a)(Object(j.a)({},e),{},{urlList:Object(p.b)(t.urlList)});case f:var r=e.urlList.union(t.urlList),n=r.size>e.urlList.size;return Object(j.a)(Object(j.a)({},e),{},{urlList:r,hasMoreImages:n});case v:return Object(j.a)(Object(j.a)({},e),{},{breedData:t.breedData});case O:return Object(j.a)(Object(j.a)({},e),{},{rowMap:t.rowMap});case m:return Object(j.a)(Object(j.a)({},e),{},{activeBreedData:{breed:t.breed,subBreed:t.subBreed}})}return x})),M=(r(68),r(54)),w=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!==t?"https://dog.ceo/api/breed/".concat(t,"/").concat(null===r?"":"".concat(r,"/"),"images/random/").concat(e):"https://dog.ceo/api/breeds/image/random/".concat(e)},I=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;fetch(w(e,t,r)).then((function(e){return e.json()})).then((function(e){return L.dispatch({type:g,urlList:e.message})})).catch((function(e){console.log("Error:",e)}))},y=function(){return.985*window.innerWidth},S=function(){return Math.min(Math.floor(y()/200),5)},E=function(e){L.dispatch({type:O,rowMap:e})},C=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(e){var n;return Object(s.a)(this,r),(n=t.call(this,e)).reformat=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;e.preventDefault();var c,i=n.props.rowMap;if(t){c=i;var s=i.getIn([r,"indicesLoaded"],Object(p.c)([])).add(a);c=c.delete(r),s.forEach((function(e){c=n.addWidthToMap(document.getElementById("image".concat(e)),r.toString(),e,o,c)}))}else{c=Object(p.a)();for(var d=0;d<n.props.urlList.length;d++){var u=S(),l=Math.floor(d/u),h=u;l===Math.floor((n.props.urlList.length-1)/u)&&(h=n.props.urlList.length-u*l),c=n.addWidthToMap(document.getElementById("image".concat(d)),l.toString(),d,h,c)}}E(c)},n.loadMoreImages=function(){!function(e,t){fetch(w(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)).then((function(e){return e.json()})).then((function(e){return L.dispatch({type:f,urlList:e.message})})).catch((function(e){console.log("Error:",e)}))}(30,n.props.currentBreed,n.props.currentSubBreed)},n.addWidthToMap=function(e,t,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,c=o||n.props.rowMap;c.has(t)||(c=c.set(t,{width:0}));var i=c.getIn([t,"indicesLoaded"],Object(p.c)([]));if(!i.has(r)){if((c=(c=c.updateIn([t,"width"],(function(t){return t+e.clientWidth}))).setIn([t,"indicesLoaded"],i.add(r))).getIn([t,"indicesLoaded"]).size===a){var s=e.clientHeight/window.innerWidth*100*(y()/c.getIn([t,"width"]));c=c.setIn([t,"height"],s)}if(void 0!==o)return c;E(c)}},n.state={showImageModal:!1,selectedImageId:null},n}return Object(d.a)(r,[{key:"componentDidMount",value:function(){I(30,this.props.currentBreed,this.props.currentSubBreed),window.addEventListener("resize",this.reformat)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.reformat)}},{key:"render",value:function(){for(var e=this,t=[],r=function(r){var a=Math.floor(r/S()),o=30,c=S(),i=c;a===Math.floor((e.props.urlList.length-1)/c)&&(i=e.props.urlList.length-c*a),e.props.rowMap.hasIn([a.toString(),"height"])&&(o=e.props.rowMap.getIn([a.toString(),"height"])),t.push(Object(n.jsx)("img",{id:"image".concat(r),src:e.props.urlList[r],onClick:function(){e.setState({selectedImageId:r}),e.setState({showImageModal:!0})},style:{height:"".concat(o,"vw"),padding:"0.2%",cursor:"pointer"},onLoad:function(t){return e.reformat(t,!0,a.toString(),r,i)}},"image".concat(r)))},a=0;a<this.props.urlList.length;a++)r(a);return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"flex-container",children:Object(n.jsx)(M.a,{dataLength:this.props.urlList.length,next:this.loadMoreImages,hasMore:this.props.hasMoreImages,loader:Object(n.jsx)("h4",{children:"Loading..."}),endMessage:Object(n.jsx)("p",{style:{textAlign:"center"},children:Object(n.jsx)("b",{children:"You have seen them all!"})}),children:t})}),Object(n.jsxs)(h.a,{show:this.state.showImageModal,onHide:function(){return e.setState({showImageModal:!1})},children:[Object(n.jsx)(h.a.Header,{closeButton:!0}),Object(n.jsx)(h.a.Body,{children:Object(n.jsx)("img",{src:this.props.urlList[this.state.selectedImageId],style:{width:"100%"}})}),Object(n.jsx)(h.a.Footer,{})]})]})}}]),r}(a.Component),D=Object(b.b)((function(e){return{urlList:e.urlList.toJS(),rowMap:e.rowMap,currentBreed:e.activeBreedData.breed,currentSubBreed:e.activeBreedData.subBreed,hasMoreImages:e.hasMoreImages,reformatting:e.reformatting}}),null)(C),k=r(55),T=r(78),W=r(82);r(69);String.prototype.CapitalizeEachWord=function(){return this.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")};var z=Object(b.b)((function(e){return{breedData:e.breedData}}),(function(e){return{setCurrentBreed:function(t,r){return e({type:m,breed:t,subBreed:r})}}}))((function(e){var t=Object(a.useState)(""),r=Object(k.a)(t,2),o=r[0],c=r[1],i=new Map,s=function(t){c("");var r=i.get(t);E(Object(p.a)()),e.setCurrentBreed(r.breed,r.subBreed),I(30,r.breed,r.subBreed)},d=[],u=function(t){if(0===e.breedData[t].length){var r="".concat(t).CapitalizeEachWord();i.set(r,{breed:t,subBreed:null}),d.push(Object(n.jsx)(T.a.Item,{eventKey:r,onSelect:s,onClick:function(){c(r)},children:r},r))}else e.breedData[t].forEach((function(e){var r="".concat(t).CapitalizeEachWord();i.has(r)||(i.set(r,{breed:t,subBreed:null}),d.push(Object(n.jsx)(T.a.Item,{eventKey:r,onSelect:s,onClick:function(){c(r)},children:r},r))),r="".concat(e," ").concat(t).CapitalizeEachWord(),i.set(r,{breed:t,subBreed:e}),d.push(Object(n.jsx)(T.a.Item,{eventKey:r,onSelect:s,onClick:function(){c(r)},children:r},r))}))};for(var l in e.breedData)u(l);return 0===(d=d.filter((function(e){return!o||e.props.children.toLowerCase().includes(o.toLowerCase())}))).length&&d.push(Object(n.jsx)(T.a.Item,{children:"No Results "})),Object(n.jsxs)(T.a,{title:"Select Breed",value:o,children:[Object(n.jsx)(W.a,{autoFocus:!0,className:"mx-2 my-2 w-auto",placeholder:"Filter by Breed",onChange:function(e){return c(e.target.value)},value:o}),d]})})),_=r(80),R=r(81),A=function(e){Object(u.a)(r,e);var t=Object(l.a)(r);function r(){return Object(s.a)(this,r),t.apply(this,arguments)}return Object(d.a)(r,[{key:"componentDidMount",value:function(){fetch("https://dog.ceo/api/breeds/list/all").then((function(e){return e.json()})).then((function(e){return L.dispatch({type:v,breedData:e.message})})).catch((function(e){console.log("Error:",e)}))}},{key:"render",value:function(){var e="".concat(this.props.subBreed?this.props.subBreed+" ":"").concat(this.props.breed?this.props.breed:"All Breeds").CapitalizeEachWord();return Object(n.jsx)("div",{children:Object(n.jsxs)(_.a,{bg:"light",expand:"lg",collapseOnSelect:!0,children:[Object(n.jsx)(R.a,{className:"mr-auto",children:Object(n.jsx)(_.a.Brand,{href:"#home",children:"Dog Finder"})}),Object(n.jsx)(R.a,{className:"mr-auto",children:Object(n.jsxs)(_.a.Text,{size:"lg",children:[" ",e," "]})}),Object(n.jsxs)(R.a,{children:[Object(n.jsx)(_.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(n.jsxs)(_.a.Collapse,{id:"basic-navbar-nav",children:[Object(n.jsx)(z,{}),Object(n.jsx)(R.a.Link,{onClick:this.props.setCurrentBreed,children:" Random "}),Object(n.jsxs)(R.a.Link,{id:"githubLink",href:"https://github.com/prernakothari/dog-finder",target:"_blank",children:[" ","\xa0"," "]})]})]})]})})}}]),r}(a.Component),N=Object(b.b)((function(e){return{breed:e.activeBreedData.breed,subBreed:e.activeBreedData.subBreed}}),(function(e){return{setCurrentBreed:function(){I(30,null,null),e({type:m,breed:null,subBreed:null})}}}))(A);var U=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(N,{}),Object(n.jsx)(D,{})]})};r(72);i.a.render(Object(n.jsx)(b.a,{store:L,children:Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(U,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.623cd00e.chunk.js.map